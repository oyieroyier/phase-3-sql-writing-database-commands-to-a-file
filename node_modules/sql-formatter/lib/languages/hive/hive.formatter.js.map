{"version":3,"file":"hive.formatter.js","names":["reservedSelect","expandPhrases","reservedCommands","reservedSetOperations","reservedJoins","reservedPhrases","HiveFormatter","Tokenizer","reservedDependentClauses","reservedKeywords","keywords","reservedFunctionNames","functions","extraParens","stringTypes","identTypes","variableTypes","quote","prefixes","requirePrefix","operators","Formatter"],"sources":["../../../src/languages/hive/hive.formatter.ts"],"sourcesContent":["import { expandPhrases } from 'src/expandPhrases';\nimport Formatter from 'src/formatter/Formatter';\nimport Tokenizer from 'src/lexer/Tokenizer';\nimport { functions } from './hive.functions';\nimport { keywords } from './hive.keywords';\n\nconst reservedSelect = expandPhrases(['SELECT [ALL | DISTINCT]']);\n\nconst reservedCommands = expandPhrases([\n  // queries\n  'WITH',\n  'FROM',\n  'WHERE',\n  'GROUP BY',\n  'HAVING',\n  'WINDOW',\n  'PARTITION BY',\n  'ORDER BY',\n  'SORT BY',\n  'CLUSTER BY',\n  'DISTRIBUTE BY',\n  'LIMIT',\n  // Data manipulation\n  // - insert:\n  //   Hive does not actually support plain INSERT INTO, only INSERT INTO TABLE\n  //   but it's a nuisance to not support it, as all other dialects do.\n  'INSERT INTO [TABLE]',\n  'VALUES',\n  // - update:\n  'UPDATE',\n  'SET',\n  // - delete:\n  'DELETE FROM',\n  // - truncate:\n  'TRUNCATE [TABLE]',\n  // - merge:\n  'MERGE INTO',\n  'WHEN [NOT] MATCHED [THEN]',\n  'UPDATE SET',\n  'INSERT [VALUES]',\n  // - insert overwrite directory:\n  //   https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML#LanguageManualDML-Writingdataintothefilesystemfromqueries\n  'INSERT OVERWRITE [LOCAL] DIRECTORY',\n  // - load:\n  //   https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML#LanguageManualDML-Loadingfilesintotables\n  'LOAD DATA [LOCAL] INPATH',\n  '[OVERWRITE] INTO TABLE',\n  // Data definition\n  'CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]',\n  'CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS]',\n  'DROP TABLE [IF EXISTS]',\n  // - alter table:\n  'ALTER TABLE',\n  'RENAME TO',\n\n  // other\n  'ALTER',\n  'CREATE',\n  'USE',\n  'DESCRIBE',\n  'DROP',\n  'FETCH',\n  'SET SCHEMA', // added\n  'SHOW',\n  // newline keywords\n  'STORED AS',\n  'STORED BY',\n  'ROW FORMAT',\n]);\n\nconst reservedSetOperations = expandPhrases(['UNION [ALL | DISTINCT]']);\n\nconst reservedJoins = expandPhrases([\n  'JOIN',\n  '{LEFT | RIGHT | FULL} [OUTER] JOIN',\n  '{INNER | CROSS} JOIN',\n  // non-standard joins\n  'LEFT SEMI JOIN',\n]);\n\nconst reservedPhrases = expandPhrases(['{ROWS | RANGE} BETWEEN']);\n\n// https://cwiki.apache.org/confluence/display/Hive/LanguageManual\nexport default class HiveFormatter extends Formatter {\n  tokenizer() {\n    return new Tokenizer({\n      reservedCommands,\n      reservedSelect,\n      reservedSetOperations,\n      reservedJoins,\n      reservedDependentClauses: ['WHEN', 'ELSE'],\n      reservedPhrases,\n      reservedKeywords: keywords,\n      reservedFunctionNames: functions,\n      extraParens: ['[]'],\n      stringTypes: ['\"\"-bs', \"''-bs\"],\n      identTypes: ['``'],\n      variableTypes: [{ quote: '{}', prefixes: ['$'], requirePrefix: true }],\n      operators: ['%', '~', '^', '|', '&', '<=>', '==', '!', '||'],\n    });\n  }\n}\n"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,cAAc,GAAG,IAAAC,4BAAA,EAAc,CAAC,yBAAD,CAAd,CAAvB;AAEA,IAAMC,gBAAgB,GAAG,IAAAD,4BAAA,EAAc,CACrC;AACA,MAFqC,EAGrC,MAHqC,EAIrC,OAJqC,EAKrC,UALqC,EAMrC,QANqC,EAOrC,QAPqC,EAQrC,cARqC,EASrC,UATqC,EAUrC,SAVqC,EAWrC,YAXqC,EAYrC,eAZqC,EAarC,OAbqC,EAcrC;AACA;AACA;AACA;AACA,qBAlBqC,EAmBrC,QAnBqC,EAoBrC;AACA,QArBqC,EAsBrC,KAtBqC,EAuBrC;AACA,aAxBqC,EAyBrC;AACA,kBA1BqC,EA2BrC;AACA,YA5BqC,EA6BrC,2BA7BqC,EA8BrC,YA9BqC,EA+BrC,iBA/BqC,EAgCrC;AACA;AACA,oCAlCqC,EAmCrC;AACA;AACA,0BArCqC,EAsCrC,wBAtCqC,EAuCrC;AACA,4CAxCqC,EAyCrC,qDAzCqC,EA0CrC,wBA1CqC,EA2CrC;AACA,aA5CqC,EA6CrC,WA7CqC,EA+CrC;AACA,OAhDqC,EAiDrC,QAjDqC,EAkDrC,KAlDqC,EAmDrC,UAnDqC,EAoDrC,MApDqC,EAqDrC,OArDqC,EAsDrC,YAtDqC,EAsDvB;AACd,MAvDqC,EAwDrC;AACA,WAzDqC,EA0DrC,WA1DqC,EA2DrC,YA3DqC,CAAd,CAAzB;AA8DA,IAAME,qBAAqB,GAAG,IAAAF,4BAAA,EAAc,CAAC,wBAAD,CAAd,CAA9B;AAEA,IAAMG,aAAa,GAAG,IAAAH,4BAAA,EAAc,CAClC,MADkC,EAElC,oCAFkC,EAGlC,sBAHkC,EAIlC;AACA,gBALkC,CAAd,CAAtB;AAQA,IAAMI,eAAe,GAAG,IAAAJ,4BAAA,EAAc,CAAC,wBAAD,CAAd,CAAxB,C,CAEA;;IACqBK,a;;;;;;;;;;;;;WACnB,qBAAY;MACV,OAAO,IAAIC,qBAAJ,CAAc;QACnBL,gBAAgB,EAAhBA,gBADmB;QAEnBF,cAAc,EAAdA,cAFmB;QAGnBG,qBAAqB,EAArBA,qBAHmB;QAInBC,aAAa,EAAbA,aAJmB;QAKnBI,wBAAwB,EAAE,CAAC,MAAD,EAAS,MAAT,CALP;QAMnBH,eAAe,EAAfA,eANmB;QAOnBI,gBAAgB,EAAEC,eAPC;QAQnBC,qBAAqB,EAAEC,eARJ;QASnBC,WAAW,EAAE,CAAC,IAAD,CATM;QAUnBC,WAAW,EAAE,CAAC,OAAD,EAAU,OAAV,CAVM;QAWnBC,UAAU,EAAE,CAAC,IAAD,CAXO;QAYnBC,aAAa,EAAE,CAAC;UAAEC,KAAK,EAAE,IAAT;UAAeC,QAAQ,EAAE,CAAC,GAAD,CAAzB;UAAgCC,aAAa,EAAE;QAA/C,CAAD,CAZI;QAanBC,SAAS,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,KAA1B,EAAiC,IAAjC,EAAuC,GAAvC,EAA4C,IAA5C;MAbQ,CAAd,CAAP;IAeD;;;;EAjBwCC,sB"}